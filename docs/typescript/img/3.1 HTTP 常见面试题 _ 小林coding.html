<!DOCTYPE html>
<!-- saved from url=(0145)https://xiaolincoding.com/network/2_http/http_interview.html#https-%E8%A7%A3%E5%86%B3%E4%BA%86-http-%E7%9A%84%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98 -->
<html lang="en-US" class=" "><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    <title>3.1 HTTP 常见面试题 | 小林coding</title>
    
    <link rel="icon" href="https://xiaolincoding.com/icon.webp">
    <link rel="manifest" href="https://xiaolincoding.com/manifest.json">
    <link rel="apple-touch-icon" href="https://xiaolincoding.com/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="https://xiaolincoding.com/icons/safari-pinned-tab.svg" color="#dce2e8">
    <script src="./3.1 HTTP 常见面试题 _ 小林coding_files/hm.js"></script><script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?79553a60bd718d01faaddff15f7c9fb6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><script type="application/ld+json">
          {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "小林coding_图解计算机基础",
            "url": "https://xiaolincoding.com/",
            "image": [
              "https://xiaolincoding.com/logo.webp"
              ],
            "datePublished": "undefined",
            "dateModified": "2022-05-26T04:49:53.000Z",
            "author": [{
                "@type": "Person",
                "name": "小林coding",
                "url": "https://xiaolincoding.com"
            }]
          }
      </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/0.styles.026991e4.css" as="style"><link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/app.7fcb6559.js" as="script"><link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/4.7ad2f6c0.js" as="script"><link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/3.dbf88ffe.js" as="script"><link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/10.32cee932.js" as="script"><link rel="preload" href="./3.1 HTTP 常见面试题 _ 小林coding_files/5.684f1b01.js" as="script"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/100.75be96ea.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/101.35769bb4.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/102.04ae9240.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/103.a9cd5ef3.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/104.211964c6.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/105.ff618888.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/106.459aa04b.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/107.a1175e41.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/108.e7bda593.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/109.1299dc20.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/11.74bedfb7.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/110.ad6f6cb5.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/111.d4b42c24.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/112.00da44aa.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/113.894439c6.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/114.c4488aa1.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/115.950fd1e2.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/116.0d955122.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/117.19d57094.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/118.16d796a6.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/119.33463217.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/12.820a7c5f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/120.3ec65c9f.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/121.9aa800b6.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/13.6d082c8b.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/14.daa10dfa.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/15.1ef84a9f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/16.afb98c93.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/17.0fbb785d.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/18.80d5b248.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/19.60bc695f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/20.a4d5b210.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/21.92235b62.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/22.80784b07.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/23.01546bc3.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/24.e09cb8fc.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/25.05d1a7d1.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/26.e3189af0.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/27.020b574f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/28.ee8a62a2.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/29.8a805398.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/30.20d34d63.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/31.1e727838.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/32.9e0a113d.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/33.f95e7828.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/34.ac00e384.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/35.8836d310.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/36.1ead8ad2.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/37.c669267f.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/38.670ee16f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/39.574c4cad.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/40.8a77094d.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/41.ba83c281.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/42.03b1a87c.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/43.6cd09018.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/44.773ef28f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/45.d988eb44.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/46.ac004fb5.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/47.9f56e033.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/48.90faccd7.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/49.89dcb0a1.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/50.66113dd3.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/51.40c36666.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/52.fd7f5f76.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/53.f05d9263.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/54.29122150.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/55.24ad8113.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/56.08a31c6d.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/57.0158384a.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/58.80646f5d.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/59.23a789ba.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/6.4ee51bf8.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/60.32ba3fe0.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/61.a676e7d7.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/62.b04a0dbe.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/63.5d341e08.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/64.0d4e4e36.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/65.df014ea0.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/66.98b5553e.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/67.83e70b17.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/68.b501db60.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/69.486b9701.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/7.ddaeda8e.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/70.88903f46.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/71.5966648f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/72.641bad45.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/73.836f63b6.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/74.c27ea300.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/75.59fdba14.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/76.b81a0054.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/77.7e348f16.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/78.cfef8eca.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/79.ca6e80dc.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/8.6337a7d3.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/80.710e5162.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/81.32c1f27e.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/82.b7652729.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/83.d37e8616.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/84.7ed73472.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/85.59987937.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/86.4976db14.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/87.fcf88342.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/88.941555f8.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/89.1a022d07.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/9.6a19bf97.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/90.505e6a02.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/91.688425d8.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/92.29c1cdc0.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/93.1b8aa69c.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/94.c9b0216c.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/95.f8508e38.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/96.773e8e6f.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/97.2809596a.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/98.39c83621.js"><link rel="prefetch" href="https://xiaolincoding.com/assets/js/99.82cd124a.js"><link rel="prefetch" href="./3.1 HTTP 常见面试题 _ 小林coding_files/vendors_docsearch.2c33a8c6.js">
    <link rel="stylesheet" href="./3.1 HTTP 常见面试题 _ 小林coding_files/0.styles.026991e4.css">
  <style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/121.9aa800b6.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/vendors_docsearch.2c33a8c6.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/65.df014ea0.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/51.40c36666.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/64.0d4e4e36.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/37.c669267f.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/34.ac00e384.js"></script><script charset="utf-8" src="./3.1 HTTP 常见面试题 _ 小林coding_files/38.670ee16f.js"></script><meta name="description" content=""><meta property="article:modified_time" content="2022-07-25T06:54:00.000Z"><meta property="og:site_name" content="图解计算机基础"><meta property="og:title" content="3.1 HTTP 常见面试题"><meta property="og:type" content="article"><meta property="og:url" content="https://xiaolincoding.com/network/2_http/http_interview.html"><meta property="og:image" content="https://xiaolincoding.com/icon.webp"><meta name="twitter:title" content="3.1 HTTP 常见面试题"><meta name="twitter:url" content="https://xiaolincoding.com/network/2_http/http_interview.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://xiaolincoding.com/icon.webp"><meta name="twitter:label1" content="Written by"><meta name="theme-color" content="#dce2e8"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png"><meta name="msapplication-TileColor" content="#000000"><meta name="baidu-site-verification" content="code-mRA9eqEXsx"></head>
  <body class="">
    <div id="app"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://xiaolincoding.com/" class="home-link router-link-active"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/logo.webp" alt="小林coding" class="logo"> <span class="site-name can-hide">小林coding</span></a> <div class="links" style="max-width: 1127px;"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input id="algolia-search-input" class="search-query ds-input" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" aria-owns="algolia-autocomplete-listbox-10" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Arial; font-size: 14.4px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-10" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-11"></div></span></span></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xiaolincoding.com/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/network/" class="nav-link router-link-active">
  图解网络
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/os/" class="nav-link">
  图解系统
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/mysql/" class="nav-link">
  图解 MySQL
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/redis/" class="nav-link">
  图解 Redis
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习路线" class="dropdown-title"><span class="title">学习路线</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/cs_learn/" class="nav-link">
  计算机基础学习路线
</a></li><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/reader_nb/" class="nav-link">
  互联网校招路线
</a></li></ul></div></div><div class="nav-item"><a href="https://xiaolincoding.com/other/update.html" class="nav-link">
  网站动态
</a></div><div class="nav-item"><a href="https://github.com/xiaolincoder/CS-Base" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xiaolincoding.com/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/network/" class="nav-link router-link-active">
  图解网络
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/os/" class="nav-link">
  图解系统
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/mysql/" class="nav-link">
  图解 MySQL
</a></div><div class="nav-item"><a href="https://xiaolincoding.com/redis/" class="nav-link">
  图解 Redis
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习路线" class="dropdown-title"><span class="title">学习路线</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/cs_learn/" class="nav-link">
  计算机基础学习路线
</a></li><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/reader_nb/" class="nav-link">
  互联网校招路线
</a></li></ul></div></div><div class="nav-item"><a href="https://xiaolincoding.com/other/update.html" class="nav-link">
  网站动态
</a></div><div class="nav-item"><a href="https://github.com/xiaolincoder/CS-Base" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>一、前言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>二、基础篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>三、HTTP篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items" style=""><li><a href="https://xiaolincoding.com/network/2_http/http_interview.html" class="active sidebar-link" aria-current="page">3.1 HTTP 常见面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" class="sidebar-link">HTTP 基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E6%98%AF%E4%BB%80%E4%B9%88" class="sidebar-link">HTTP 是什么？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B" class="sidebar-link">HTTP 常见的状态码有哪些？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%B8%B8%E8%A7%81%E5%AD%97%E6%AE%B5%E6%9C%89%E5%93%AA%E4%BA%9B" class="sidebar-link">HTTP 常见字段有哪些？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E4%B8%8E-post" class="sidebar-link">GET 与 POST</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E5%92%8C-post-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB" class="sidebar-link">GET 和 POST 有什么区别？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E5%92%8C-post-%E6%96%B9%E6%B3%95%E9%83%BD%E6%98%AF%E5%AE%89%E5%85%A8%E5%92%8C%E5%B9%82%E7%AD%89%E7%9A%84%E5%90%97" class="sidebar-link">GET 和 POST 方法都是安全和幂等的吗？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF" class="sidebar-link">HTTP 缓存技术</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%BC%93%E5%AD%98%E6%9C%89%E5%93%AA%E4%BA%9B%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F" class="sidebar-link">HTTP 缓存有哪些实现方式？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98" class="sidebar-link">什么是强制缓存？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98" class="sidebar-link">什么是协商缓存？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%89%B9%E6%80%A7" class="sidebar-link">HTTP 特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E4%BC%98%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B" class="sidebar-link">HTTP（1.1） 的优点有哪些？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B" class="sidebar-link">HTTP（1.1） 的缺点有哪些？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E6%80%A7%E8%83%BD%E5%A6%82%E4%BD%95" class="sidebar-link">HTTP/1.1 的性能如何？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https" class="sidebar-link">HTTP 与 HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB" class="sidebar-link">HTTP 与 HTTPS 有哪些区别？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E8%A7%A3%E5%86%B3%E4%BA%86-http-%E7%9A%84%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98" class="active sidebar-link" aria-current="page">HTTPS 解决了 HTTP 的哪些问题？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E6%98%AF%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84-%E5%85%B6%E9%97%B4%E4%BA%A4%E4%BA%92%E4%BA%86%E4%BB%80%E4%B9%88" class="sidebar-link">HTTPS  是如何建立连接的？其间交互了什么？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E7%9A%84%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84" class="sidebar-link">HTTPS 的应用数据是如何保证完整性的？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1%E3%80%81http-2%E3%80%81http-3-%E6%BC%94%E5%8F%98" class="sidebar-link">HTTP/1.1、HTTP/2、HTTP/3 演变</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9B%B8%E6%AF%94-http-1-0-%E6%8F%90%E9%AB%98%E4%BA%86%E4%BB%80%E4%B9%88%E6%80%A7%E8%83%BD" class="sidebar-link">HTTP/1.1 相比 HTTP/1.0 提高了什么性能？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-2-%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96" class="sidebar-link">HTTP/2 做了什么优化？</a></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-3-%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96" class="sidebar-link">HTTP/3 做了哪些优化？</a></li></ul></li><li class="sidebar-sub-header"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E8%AF%BB%E8%80%85%E9%97%AE%E7%AD%94" class="sidebar-link">读者问答</a></li></ul></li><li><a href="https://xiaolincoding.com/network/2_http/http_optimize.html" class="sidebar-link">3.2 HTTP/1.1如何优化？</a></li><li><a href="https://xiaolincoding.com/network/2_http/https_rsa.html" class="sidebar-link">3.3 HTTPS RSA 握手解析</a></li><li><a href="https://xiaolincoding.com/network/2_http/https_ecdhe.html" class="sidebar-link">3.4 HTTPS ECDHE 握手解析</a></li><li><a href="https://xiaolincoding.com/network/2_http/https_optimize.html" class="sidebar-link">3.5 HTTPS 如何优化？</a></li><li><a href="https://xiaolincoding.com/network/2_http/http2.html" class="sidebar-link">3.6 HTTP/2 牛逼在哪？</a></li><li><a href="https://xiaolincoding.com/network/2_http/http3.html" class="sidebar-link">3.7 HTTP/3 强势来袭</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>四、TCP 篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>五、IP 篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>六、学习心得</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"> <div class="theme-default-content content__default" style="max-width: 740px; margin: 0px auto; padding: 2rem 2.5rem;"><h1 id="_3-1-http-常见面试题"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#_3-1-http-%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98" class="header-anchor">#</a> 3.1 HTTP 常见面试题</h1> <p>在面试过程中，HTTP 被提问的概率还是比较高的。</p> <p>小林我搜集了 6 大类 HTTP 面试常问的题目，同时这 6 大类题跟 <strong>HTTP 的发展和演变</strong>关联性是比较大的，通过<strong>问答 + 图解</strong>的形式<strong>由浅入深</strong>的方式帮助大家进一步的学习和理解 HTTP 。</p> <ol><li>HTTP 基本概念</li> <li>Get 与 Post</li> <li>HTTP 特性</li> <li>HTTP 缓存技术</li> <li>HTTPS 与 HTTP</li> <li>HTTP/1.1、HTTP/2、HTTP/3 演变</li></ol> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/6b9bfd38d2684b3f9843ebabf8771212.png" alt="提纲" class="medium-zoom-image"></p> <h2 id="http-基本概念"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" class="header-anchor">#</a> HTTP 基本概念</h2> <h3 id="http-是什么"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E6%98%AF%E4%BB%80%E4%B9%88" class="header-anchor">#</a> HTTP 是什么？</h3> <p>HTTP 是超文本传输协议，也就是<strong>H</strong>yperText <strong>T</strong>ransfer <strong>P</strong>rotocol。</p> <blockquote><p>能否详细解释「超文本传输协议」？</p></blockquote> <p>HTTP的名字「超文本协议传输」，它可以拆成三个部分：</p> <ul><li>超文本</li> <li>传输</li> <li>协议</li></ul> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/3-HTTP三部分.png" alt="三个部分" class="medium-zoom-image"></p> <p><em>1. 「协议」</em></p> <p>在生活中，我们也能随处可见「协议」，例如：</p> <ul><li>刚毕业时会签一个「三方协议」；</li> <li>找房子时会签一个「租房协议」；</li></ul> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/4-租房和三方协议.png" alt="三方协议和租房协议" class="medium-zoom-image"></p> <p>生活中的协议，本质上与计算机中的协议是相同的，协议的特点:</p> <ul><li>「<strong>协</strong>」字，代表的意思是必须有<strong>两个以上的参与者</strong>。例如三方协议里的参与者有三个：你、公司、学校三个；租房协议里的参与者有两个：你和房东。</li> <li>「<strong>议</strong>」字，代表的意思是对参与者的一种<strong>行为约定和规范</strong>。例如三方协议里规定试用期期限、毁约金等；租房协议里规定租期期限、每月租金金额、违约如何处理等。</li></ul> <p>针对 HTTP <strong>协议</strong>，我们可以这么理解。</p> <p>HTTP 是一个用在计算机世界里的<strong>协议</strong>。它使用计算机能够理解的语言确立了一种计算机之间交流通信的规范（<strong>两个以上的参与者</strong>），以及相关的各种控制和错误处理方式（<strong>行为约定和规范</strong>）。</p> <p><em>2. 「传输」</em></p> <p>所谓的「传输」，很好理解，就是把一堆东西从 A 点搬到 B 点，或者从 B 点 搬到 A 点。</p> <p>别轻视了这个简单的动作，它至少包含两项重要的信息。</p> <p>HTTP 协议是一个<strong>双向协议</strong>。</p> <p>我们在上网冲浪时，浏览器是请求方 A ，百度网站就是应答方 B。双方约定用 HTTP 协议来通信，于是浏览器把请求数据发送给网站，网站再把一些数据返回给浏览器，最后由浏览器渲染在屏幕，就可以看到图片、视频了。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/5-请求应答.png" alt="请求 - 应答" class="medium-zoom-image"></p> <p>数据虽然是在 A 和 B 之间传输，但允许中间有<strong>中转或接力</strong>。</p> <p>就好像第一排的同学想传递纸条给最后一排的同学，那么传递的过程中就需要经过好多个同学（中间人），这样的传输方式就从「A &lt; --- &gt; B」，变成了「A &lt;-&gt; N &lt;-&gt; M &lt;-&gt; B」。</p> <p>而在 HTTP 里，需要中间人遵从 HTTP 协议，只要不打扰基本的数据传输，就可以添加任意额外的东西。</p> <p>针对<strong>传输</strong>，我们可以进一步理解了 HTTP。</p> <p>HTTP 是一个在计算机世界里专门用来在<strong>两点之间传输数据</strong>的约定和规范。</p> <p><em>3. 「超文本」</em></p> <p>HTTP 传输的内容是「超文本」。</p> <p>我们先来理解「文本」，在互联网早期的时候只是简单的字符文字，但现在「文本」的涵义已经可以扩展为图片、视频、压缩包等，在 HTTP 眼里这些都算作「文本」。</p> <p>再来理解「超文本」，它就是<strong>超越了普通文本的文本</strong>，它是文字、图片、视频等的混合体，最关键有超链接，能从一个超文本跳转到另外一个超文本。</p> <p>HTML 就是最常见的超文本了，它本身只是纯文字文件，但内部用很多标签定义了图片、视频等的链接，再经过浏览器的解释，呈现给我们的就是一个文字、有画面的网页了。</p> <p>OK，经过了对 HTTP 里这三个名词的详细解释，就可以给出比「超文本传输协议」这七个字更准确更有技术含量的答案：</p> <p><strong>HTTP 是一个在计算机世界里专门在「两点」之间「传输」文字、图片、音频、视频等「超文本」数据的「约定和规范」。</strong></p> <blockquote><p>那「HTTP 是用于从互联网服务器传输超文本到本地浏览器的协议 ，这种说法正确吗？</p></blockquote> <p>这种说法是<strong>不正确</strong>的。因为也可以是「服务器&lt; -- &gt;服务器」，所以采用<strong>两点之间</strong>的描述会更准确。</p> <h3 id="http-常见的状态码有哪些"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B" class="header-anchor">#</a> HTTP 常见的状态码有哪些？</h3> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/6-五大类HTTP状态码.png" alt=" 五大类 HTTP 状态码 " class="medium-zoom-image"></p> <p><code>1xx</code> 类状态码属于<strong>提示信息</strong>，是协议处理中的一种中间状态，实际用到的比较少。</p> <p><code>2xx</code> 类状态码表示服务器<strong>成功</strong>处理了客户端的请求，也是我们最愿意看到的状态。</p> <ul><li><p>「<strong>200 OK</strong>」是最常见的成功状态码，表示一切正常。如果是非 <code>HEAD</code> 请求，服务器返回的响应头都会有 body 数据。</p></li> <li><p>「<strong>204 No Content</strong>」也是常见的成功状态码，与 200 OK 基本相同，但响应头没有 body 数据。</p></li> <li><p>「<strong>206 Partial Content</strong>」是应用于 HTTP 分块下载或断点续传，表示响应返回的 body 数据并不是资源的全部，而是其中的一部分，也是服务器处理成功的状态。</p></li></ul> <p><code>3xx</code> 类状态码表示客户端请求的资源发生了变动，需要客户端用新的 URL 重新发送请求获取资源，也就是<strong>重定向</strong>。</p> <ul><li><p>「<strong>301 Moved Permanently</strong>」表示永久重定向，说明请求的资源已经不存在了，需改用新的 URL 再次访问。</p></li> <li><p>「<strong>302 Found</strong>」表示临时重定向，说明请求的资源还在，但暂时需要用另一个 URL 来访问。</p></li></ul> <p>301 和 302 都会在响应头里使用字段 <code>Location</code>，指明后续要跳转的 URL，浏览器会自动重定向新的 URL。</p> <ul><li>「<strong>304 Not Modified</strong>」不具有跳转的含义，表示资源未修改，重定向已存在的缓冲文件，也称缓存重定向，也就是告诉客户端可以继续使用缓存资源，用于缓存控制。</li></ul> <p><code>4xx</code> 类状态码表示客户端发送的<strong>报文有误</strong>，服务器无法处理，也就是错误码的含义。</p> <ul><li><p>「<strong>400 Bad Request</strong>」表示客户端请求的报文有错误，但只是个笼统的错误。</p></li> <li><p>「<strong>403 Forbidden</strong>」表示服务器禁止访问资源，并不是客户端的请求出错。</p></li> <li><p>「<strong>404 Not Found</strong>」表示请求的资源在服务器上不存在或未找到，所以无法提供给客户端。</p></li></ul> <p><code>5xx</code> 类状态码表示客户端请求报文正确，但是<strong>服务器处理时内部发生了错误</strong>，属于服务器端的错误码。</p> <ul><li><p>「<strong>500 Internal Server Error</strong>」与 400 类型，是个笼统通用的错误码，服务器发生了什么错误，我们并不知道。</p></li> <li><p>「<strong>501 Not Implemented</strong>」表示客户端请求的功能还不支持，类似“即将开业，敬请期待”的意思。</p></li> <li><p>「<strong>502 Bad Gateway</strong>」通常是服务器作为网关或代理时返回的错误码，表示服务器自身工作正常，访问后端服务器发生了错误。</p></li> <li><p>「<strong>503 Service Unavailable</strong>」表示服务器当前很忙，暂时无法响应客户端，类似“网络服务正忙，请稍后重试”的意思。</p></li></ul> <h3 id="http-常见字段有哪些"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E5%B8%B8%E8%A7%81%E5%AD%97%E6%AE%B5%E6%9C%89%E5%93%AA%E4%BA%9B" class="header-anchor">#</a> HTTP 常见字段有哪些？</h3> <p><em>Host</em> 字段</p> <p>客户端发送请求时，用来指定服务器的域名。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/7-HOST字段.png" alt="" class="medium-zoom-image"></p> <div class="language- extra-class"><pre class="language-text"><code>Host: www.A.com
</code></pre></div><p>有了 <code>Host</code> 字段，就可以将请求发往「同一台」服务器上的不同网站。</p> <p><em>Content-Length 字段</em></p> <p>服务器在返回数据时，会有 <code>Content-Length</code> 字段，表明本次回应的数据长度。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/8-content-length字段.png" alt="" class="medium-zoom-image"></p> <div class="language- extra-class"><pre class="language-text"><code>Content-Length: 1000
</code></pre></div><p>如上面则是告诉浏览器，本次服务器回应的数据长度是 1000 个字节，后面的字节就属于下一个回应了。</p> <p><em>Connection 字段</em></p> <p><code>Connection</code> 字段最常用于客户端要求服务器使用 TCP 持久连接，以便其他请求复用。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/9-connection字段.png" alt="" class="medium-zoom-image"></p> <p>HTTP/1.1 版本的默认连接都是持久连接，但为了兼容老版本的 HTTP，需要指定 <code>Connection</code> 首部字段的值为 <code>Keep-Alive</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>Connection: keep-alive
</code></pre></div><p>一个可以复用的 TCP 连接就建立了，直到客户端或服务器主动关闭连接。但是，这不是标准字段。</p> <p><em>Content-Type 字段</em></p> <p><code>Content-Type</code> 字段用于服务器回应时，告诉客户端，本次数据是什么格式。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/10-content-type字段.png" alt="" class="medium-zoom-image"></p> <div class="language- extra-class"><pre class="language-text"><code>Content-Type: text/html; charset=utf-8
</code></pre></div><p>上面的类型表明，发送的是网页，而且编码是UTF-8。</p> <p>客户端请求的时候，可以使用 <code>Accept</code> 字段声明自己可以接受哪些数据格式。</p> <div class="language- extra-class"><pre class="language-text"><code>Accept: */*
</code></pre></div><p>上面代码中，客户端声明自己可以接受任何格式的数据。</p> <p><em>Content-Encoding 字段</em></p> <p><code>Content-Encoding</code> 字段说明数据的压缩方法。表示服务器返回的数据使用了什么压缩格式</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/11-content-encoding字段.png" alt="" class="medium-zoom-image"></p> <div class="language- extra-class"><pre class="language-text"><code>Content-Encoding: gzip
</code></pre></div><p>上面表示服务器返回的数据采用了 gzip 方式压缩，告知客户端需要用此方式解压。</p> <p>客户端在请求时，用 <code>Accept-Encoding</code> 字段说明自己可以接受哪些压缩方法。</p> <div class="language- extra-class"><pre class="language-text"><code>Accept-Encoding: gzip, deflate
</code></pre></div><hr> <h2 id="get-与-post"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E4%B8%8E-post" class="header-anchor">#</a> GET 与 POST</h2> <h3 id="get-和-post-有什么区别"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E5%92%8C-post-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB" class="header-anchor">#</a> GET 和 POST 有什么区别？</h3> <p>根据 RFC 规范，<strong>GET 的语义是从服务器获取指定的资源</strong>，这个资源可以是静态的文本、页面、图片视频等。GET 请求的参数位置一般是写在 URL 中，URL 规定只能支持 ASCII，所以 GET 请求的参数只允许 ASCII 字符 ，而且浏览器会对 URL 的长度有限制（HTTP协议本身对 URL长度并没有做任何规定）。</p> <p>比如，你打开我的文章，浏览器就会发送 GET 请求给服务器，服务器就会返回文章的所有文字及资源。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/12-Get请求.png" alt="GET 请求" class="medium-zoom-image"></p> <p>根据 RFC 规范，<strong>POST 的语义是根据请求负荷（报文body）对指定的资源做出处理</strong>，具体的处理方式视资源类型而不同。POST 请求携带数据的位置一般是写在报文 body 中， body 中的数据可以是任意格式的数据，只要客户端与服务端协商好即可，而且浏览器不会对 body 大小做限制。</p> <p>比如，你在我文章底部，敲入了留言后点击「提交」（<strong>暗示你们留言</strong>），浏览器就会执行一次 POST 请求，把你的留言文字放进了报文 body 里，然后拼接好 POST 请求头，通过 TCP 协议发送给服务器。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/13-Post请求.png" alt="POST 请求" class="medium-zoom-image"></p> <h3 id="get-和-post-方法都是安全和幂等的吗"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#get-%E5%92%8C-post-%E6%96%B9%E6%B3%95%E9%83%BD%E6%98%AF%E5%AE%89%E5%85%A8%E5%92%8C%E5%B9%82%E7%AD%89%E7%9A%84%E5%90%97" class="header-anchor">#</a> GET 和 POST 方法都是安全和幂等的吗？</h3> <p>先说明下安全和幂等的概念：</p> <ul><li>在 HTTP 协议里，所谓的「安全」是指请求方法不会「破坏」服务器上的资源。</li> <li>所谓的「幂等」，意思是多次执行相同的操作，结果都是「相同」的。</li></ul> <p>如果从 RFC 规范定义的语义来看：</p> <ul><li><strong>GET 方法就是安全且幂等的</strong>，因为它是「只读」操作，无论操作多少次，服务器上的数据都是安全的，且每次的结果都是相同的。所以，<strong>可以对 GET 请求的数据做缓存，这个缓存可以做到浏览器本身上（彻底避免浏览器发请求），也可以做到代理上（如nginx），而且在浏览器中 GET 请求可以保存为书签</strong>。</li> <li><strong>POST</strong> 因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是<strong>不安全</strong>的，且多次提交数据就会创建多个资源，所以<strong>不是幂等</strong>的。所以，<strong>浏览器一般不会缓存 POST 请求，也不能把 POST 请求保存为书签</strong>。</li></ul> <p>做个简要的小结。</p> <p>GET 的语义是请求获取指定的资源。GET 方法是安全、幂等、可被缓存的。</p> <p>POST 的语义是根据请求负荷（报文主体）对指定的资源做出处理，具体的处理方式视资源类型而不同。POST 不安全，不幂等，（大部分实现）不可缓存。</p> <p>注意， 上面是从 RFC 规范定义的语义来分析的。</p> <p>但是实际过程中，开发者不一定会按照 RFC 规范定义的语义来实现 GET 和 POST 方法。比如：</p> <ul><li>可以用 GET 方法实现新增或删除数据的请求，这样实现的 GET 方法自然就不是安全和幂等。</li> <li>可以用 POST 方法实现查询数据的请求，这样实现的  POST 方法自然就是安全和幂等。</li></ul> <p>曾经有个笑话，有人写了个博客，删除博客用的是GET请求，他觉得没人访问就连鉴权都没做。然后Google服务器爬虫爬了一遍，他所有博文就没了。。。</p> <p>如果「安全」放入概念是指信息是否会被泄漏的话，虽然 POST 用 body 传输数据，而 GET 用 URL 传输，这样数据会在浏览器地址拦容易看到，但是并不能说 GET 不如 POST 安全的。</p> <p>因为 HTTP 传输的内容都是明文的，虽然在浏览器地址拦看不到 POST 提交的 body 数据，但是只要抓个包就都能看到了。</p> <p>所以，要避免传输过程中数据被窃取，就要使用 HTTPS 协议，这样所有 HTTP 的数据都会被加密传输。</p> <blockquote><p>GET 请求可以带 body 吗？</p></blockquote> <p>RFC 规范并没有规定 GET 请求不能带 body 的。理论上，任何请求都可以带 body 的。只是因为 RFC 规范定义的 GET 请求是获取资源，所以根据这个语义不需要用到 body。</p> <p>另外，URL 中的查询参数也不是 GET 所独有的，POST 请求的 URL 中也可以有参数的。</p> <h2 id="http-缓存技术"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF" class="header-anchor">#</a> HTTP 缓存技术</h2> <h3 id="http-缓存有哪些实现方式"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%BC%93%E5%AD%98%E6%9C%89%E5%93%AA%E4%BA%9B%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F" class="header-anchor">#</a> HTTP 缓存有哪些实现方式？</h3> <p>对于一些具有重复性的 HTTP 请求，比如每次请求得到的数据都一样的，我们可以把这对「请求-响应」的数据都<strong>缓存在本地</strong>，那么下次就直接读取本地的数据，不必在通过网络获取服务器的响应了，这样的话 HTTP/1.1 的性能肯定肉眼可见的提升。</p> <p>所以，避免发送 HTTP 请求的方法就是通过<strong>缓存技术</strong>，HTTP 设计者早在之前就考虑到了这点，因此 HTTP 协议的头部有不少是针对缓存的字段。</p> <p>HTTP 缓存有两种实现方式，分别是<strong>强制缓存和协商缓存</strong>。</p> <h3 id="什么是强制缓存"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98" class="header-anchor">#</a> 什么是强制缓存？</h3> <p>强缓存指的是只要浏览器判断缓存没有过期，则直接使用浏览器的本地缓存，决定是否使用缓存的主动性在于浏览器这边。</p> <p>如下图中，返回的是 200 状态码，但在 size 项中标识的是 from disk cache，就是使用了强制缓存。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/1cb6bc37597e4af8adfef412bfc57a42.png" alt="" class="medium-zoom-image"></p> <p>强缓存是利用下面这两个 HTTP 响应头部（Response Header）字段实现的，它们都用来表示资源在客户端缓存的有效期：</p> <ul><li><code>Cache-Control</code>， 是一个相对时间；</li> <li><code>Expires</code>，是一个绝对时间；</li></ul> <p>如果 HTTP 响应头部同时有 Cache-Control 和 Expires 字段的话，<strong>Cache-Control的优先级高于 Expires</strong> 。</p> <p>Cache-control 选项更多一些，设置更加精细，所以建议使用 Cache-Control 来实现强缓存。具体的实现流程如下：</p> <ul><li>当浏览器第一次请求访问服务器资源时，服务器会在返回这个资源的同时，在 Response 头部加上 Cache-Control，Cache-Control 中设置了过期时间大小；</li> <li>浏览器再次请求访问服务器中的该资源时，会先<strong>通过请求资源的时间与 Cache-Control 中设置的过期时间大小，来计算出该资源是否过期</strong>，如果没有，则使用该缓存，否则重新请求服务器；</li> <li>服务器再次收到请求后，会再次更新 Response 头部的 Cache-Control。</li></ul> <h3 id="什么是协商缓存"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98" class="header-anchor">#</a> 什么是协商缓存？</h3> <p>当我们在浏览器使用开发者工具的时候，你可能会看到过某些请求的响应码是 <code>304</code>，这个是告诉浏览器可以使用本地缓存的资源，通常这种通过服务端告知客户端是否可以使用缓存的方式被称为协商缓存。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/缓存etag.png" alt="" class="medium-zoom-image"></p> <p>上图就是一个协商缓存的过程，所以<strong>协商缓存就是与服务端协商之后，通过协商结果来判断是否使用本地缓存</strong>。</p> <p>协商缓存可以基于两种头部来实现。</p> <p>第一种：请求头部中的 <code>If-Modified-Since</code> 字段与响应头部中的 <code>Last-Modified</code> 字段实现，这两个字段的意思是：</p> <ul><li>响应头部中的 <code>Last-Modified</code>：标示这个响应资源的最后修改时间；</li> <li>请求头部中的 <code>If-Modified-Since</code>：当资源过期了，发现响应头中具有 Last-Modified 声明，则再次发起请求的时候带上 Last-Modified 的时间，服务器收到请求后发现有 If-Modified-Since 则与被请求资源的最后修改时间进行对比（Last-Modified），如果最后修改时间较新（大），说明资源又被改过，则返回最新资源，HTTP 200 OK；如果最后修改时间较旧（小），说明资源无新修改，响应 HTTP 304 走缓存。</li></ul> <p>第二种：请求头部中的 <code>If-None-Match</code> 字段与响应头部中的 <code>ETag</code> 字段，这两个字段的意思是：</p> <ul><li>响应头部中 <code>Etag</code>：唯一标识响应资源；</li> <li>请求头部中的 <code>If-None-Match</code>：当资源过期时，浏览器发现响应头里有 Etag，则再次向服务器发起请求时，会将请求头If-None-Match 值设置为 Etag 的值。服务器收到请求后进行比对，如果资源没有变化返回 304，如果资源变化了返回 200。</li></ul> <p>第一种实现方式是基于时间实现的，第二种实现方式是基于一个唯一标识实现的，相对来说后者可以更加准确地判断文件内容是否被修改，避免由于时间篡改导致的不可靠问题。</p> <p>如果 HTTP 响应头部同时有 Etag 和 Last-Modified 字段的时候， Etag 的优先级更高，也就是先会判断 Etag 是否变化了，如果 Etag 没有变化，然后再看  Last-Modified。</p> <p>注意，<strong>协商缓存这两个字段都需要配合强制缓存中 Cache-control 字段来使用，只有在未能命中强制缓存的时候，才能发起带有协商缓存字段的请求</strong>。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/d92026ce085b401c95cf02b7ce9b7fae.png" alt="" class="medium-zoom-image"></p> <p>使用 ETag 字段实现的协商缓存的过程如下；</p> <ul><li>当浏览器第一次请求访问服务器资源时，服务器会在返回这个资源的同时，在 Response 头部加上 ETag 唯一标识，这个唯一标识的值是根据当前请求的资源生成的；</li> <li>当浏览器再次请求访问服务器中的该资源时，首先会先检查强制缓存是否过期，如果没有过期，则直接使用本地缓存；如果缓存过期了，会在 Request 头部加上 If-None-Match 字段，该字段的值就是 ETag 唯一标识；</li> <li>服务器再次收到请求后，<strong>会根据请求中的 If-None-Match 值与当前请求的资源生成的唯一标识进行比较</strong>：
<ul><li><strong>如果值相等，则返回 304 Not Modified，不会返回资源</strong>；</li> <li>如果不相等，则返回 200 状态码和返回资源，并在 Response 头部加上新的 ETag 唯一标识；</li></ul></li> <li>如果浏览器收到 304 的请求响应状态码，则会从本地缓存中加载资源，否则更新资源。</li></ul> <h2 id="http-特性"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E7%89%B9%E6%80%A7" class="header-anchor">#</a> HTTP 特性</h2> <h3 id="http-1-1-的优点有哪些"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E4%BC%98%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B" class="header-anchor">#</a> HTTP（1.1） 的优点有哪些？</h3> <p>HTTP 最凸出的优点是「简单、灵活和易于扩展、应用广泛和跨平台」。</p> <p><em>1. 简单</em></p> <p>HTTP 基本的报文格式就是 <code>header + body</code>，头部信息也是 <code>key-value</code> 简单文本的形式，<strong>易于理解</strong>，降低了学习和使用的门槛。</p> <p><em>2. 灵活和易于扩展</em></p> <p>HTTP协议里的各类请求方法、URI/URL、状态码、头字段等每个组成要求都没有被固定死，都允许开发人员<strong>自定义和扩充</strong>。</p> <p>同时 HTTP 由于是工作在应用层（ <code>OSI</code> 第七层），则它<strong>下层可以随意变化</strong>。</p> <p>HTTPS 也就是在 HTTP 与 TCP 层之间增加了 SSL/TLS 安全传输层，HTTP/3 甚至把 TCP 层换成了基于 UDP 的 QUIC。</p> <p><em>3. 应用广泛和跨平台</em></p> <p>互联网发展至今，HTTP 的应用范围非常的广泛，从台式机的浏览器到手机上的各种 APP，从看新闻、刷贴吧到购物、理财、吃鸡，HTTP 的应用遍地开花，同时天然具有<strong>跨平台</strong>的优越性。</p> <h3 id="http-1-1-的缺点有哪些"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B" class="header-anchor">#</a> HTTP（1.1） 的缺点有哪些？</h3> <p>HTTP 协议里有优缺点一体的<strong>双刃剑</strong>，分别是「无状态、明文传输」，同时还有一大缺点「不安全」。</p> <p><em>1. 无状态双刃剑</em></p> <p>无状态的<strong>好处</strong>，因为服务器不会去记忆 HTTP 的状态，所以不需要额外的资源来记录状态信息，这能减轻服务器的负担，能够把更多的 CPU 和内存用来对外提供服务。</p> <p>无状态的<strong>坏处</strong>，既然服务器没有记忆能力，它在完成有关联性的操作时会非常麻烦。</p> <p>例如登录-&gt;添加购物车-&gt;下单-&gt;结算-&gt;支付，这系列操作都要知道用户的身份才行。但服务器不知道这些请求是有关联的，每次都要问一遍身份信息。</p> <p>这样每操作一次，都要验证信息，这样的购物体验还能愉快吗？别问，问就是<strong>酸爽</strong>！</p> <p>对于无状态的问题，解法方案有很多种，其中比较简单的方式用 <strong>Cookie</strong> 技术。</p> <p><code>Cookie</code> 通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。</p> <p>相当于，<strong>在客户端第一次请求后，服务器会下发一个装有客户信息的「小贴纸」，后续客户端请求服务器的时候，带上「小贴纸」，服务器就能认得了了</strong>，</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/14-cookie技术.png" alt="Cookie 技术" class="medium-zoom-image"></p> <p><em>2. 明文传输双刃剑</em></p> <p>明文意味着在传输过程中的信息，是可方便阅读的，通过浏览器的 F12 控制台或 Wireshark 抓包都可以直接肉眼查看，为我们调试工作带了极大的便利性。</p> <p>但是这正是这样，HTTP 的所有信息都暴露在了光天化日下，相当于<strong>信息裸奔</strong>。在传输的漫长的过程中，信息的内容都毫无隐私可言，很容易就能被窃取，如果里面有你的账号密码信息，那<strong>你号没了</strong>。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/15-你号没了.png" alt="" class="medium-zoom-image"></p> <p><em>3. 不安全</em></p> <p>HTTP 比较严重的缺点就是不安全：</p> <ul><li>通信使用明文（不加密），内容可能会被窃听。比如，<strong>账号信息容易泄漏，那你号没了。</strong></li> <li>不验证通信方的身份，因此有可能遭遇伪装。比如，<strong>访问假的淘宝、拼多多，那你钱没了。</strong></li> <li>无法证明报文的完整性，所以有可能已遭篡改。比如，<strong>网页上植入垃圾广告，视觉污染，眼没了。</strong></li></ul> <p>HTTP 的安全问题，可以用 HTTPS 的方式解决，也就是通过引入 SSL/TLS 层，使得在安全上达到了极致。</p> <h3 id="http-1-1-的性能如何"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9A%84%E6%80%A7%E8%83%BD%E5%A6%82%E4%BD%95" class="header-anchor">#</a> HTTP/1.1 的性能如何？</h3> <p>HTTP 协议是基于 <strong>TCP/IP</strong>，并且使用了「<strong>请求 - 应答</strong>」的通信模式，所以性能的关键就在这<strong>两点</strong>里。</p> <p><em>1. 长连接</em></p> <p>早期 HTTP/1.0 性能上的一个很大的问题，那就是每发起一个请求，都要新建一次 TCP 连接（三次握手），而且是串行请求，做了无谓的 TCP 连接建立和断开，增加了通信开销。</p> <p>为了解决上述 TCP 连接问题，HTTP/1.1 提出了<strong>长连接</strong>的通信方式，也叫持久连接。这种方式的好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务器端的负载。</p> <p>持久连接的特点是，只要任意一端没有明确提出断开连接，则保持 TCP 连接状态。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/16-短连接与长连接.png" alt="短连接与长连接" class="medium-zoom-image"></p> <p>当然，如果某个 HTTP 长连接超过一定时间没有任何数据交互，服务端就会主动断开这个连接。</p> <p><em>2. 管道网络传输</em></p> <p>HTTP/1.1 采用了长连接的方式，这使得管道（pipeline）网络传输成为了可能。</p> <p>即可在同一个 TCP 连接里面，客户端可以发起多个请求，只要第一个请求发出去了，不必等其回来，就可以发第二个请求出去，可以<strong>减少整体的响应时间。</strong></p> <p>举例来说，客户端需要请求两个资源。以前的做法是，在同一个 TCP 连接里面，先发送 A 请求，然后等待服务器做出回应，收到后再发出 B 请求。那么，管道机制则是允许浏览器同时发出 A 请求和 B 请求，如下图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/17-管道网络传输.png" alt="管道网络传输" class="medium-zoom-image"></p> <p>但是<strong>服务器必须按照接收请求的顺序发送对这些管道化请求的响应</strong>。</p> <p>如果服务端在处理 A 请求时耗时比较长，那么后续的请求的处理都会被阻塞住，这称为「队头堵塞」。</p> <p>所以，<strong>HTTP/1.1 管道解决了请求的队头阻塞，但是没有解决响应的队头阻塞</strong>。</p> <p><em><strong>注意：实际上 HTTP/1.1 管道化技术不是默认开启，而且浏览器基本都没有支持，所以后面讨论HTTP/1.1 都是建立在没有使用管道化的前提。</strong></em></p> <p><em>3. 队头阻塞</em></p> <p>「请求 - 应答」的模式加剧了 HTTP 的性能问题。</p> <p>因为当顺序发送的请求序列中的一个请求因为某种原因被阻塞时，在后面排队的所有请求也一同被阻塞了，会招致客户端一直请求不到数据，这也就是「<strong>队头阻塞</strong>」，好比上班的路上塞车。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/18-队头阻塞.png" alt="队头阻塞" class="medium-zoom-image"></p> <p>总之 HTTP/1.1 的性能一般般，后续的 HTTP/2 和 HTTP/3 就是在优化 HTTP 的性能。</p> <hr> <h2 id="http-与-https"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https" class="header-anchor">#</a> HTTP 与 HTTPS</h2> <h3 id="http-与-https-有哪些区别"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB" class="header-anchor">#</a> HTTP 与 HTTPS 有哪些区别？</h3> <ol><li>HTTP 是超文本传输协议，信息是明文传输，存在安全风险的问题。HTTPS 则解决 HTTP 不安全的缺陷，在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议，使得报文能够加密传输。</li> <li>HTTP 连接建立相对简单， TCP 三次握手之后便可进行 HTTP 的报文传输。而 HTTPS 在 TCP 三次握手之后，还需进行 SSL/TLS 的握手过程，才可进入加密报文传输。</li> <li>HTTP 的端口号是 80，HTTPS 的端口号是 443。</li> <li>HTTPS 协议需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。</li></ol> <h3 id="https-解决了-http-的哪些问题"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E8%A7%A3%E5%86%B3%E4%BA%86-http-%E7%9A%84%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98" class="header-anchor">#</a> HTTPS 解决了 HTTP 的哪些问题？</h3> <p>HTTP 由于是明文传输，所以安全上存在以下三个风险：</p> <ul><li><strong>窃听风险</strong>，比如通信链路上可以获取通信内容，用户号容易没。</li> <li><strong>篡改风险</strong>，比如强制植入垃圾广告，视觉污染，用户眼容易瞎。</li> <li><strong>冒充风险</strong>，比如冒充淘宝网站，用户钱容易没。</li></ul> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/19-HTTPS与HTTP.png" alt="HTTP 与 HTTPS 网络层" class="medium-zoom-image"></p> <p>HTTP<strong>S</strong> 在 HTTP 与 TCP 层之间加入了 <code>SSL/TLS</code> 协议，可以很好的解决了上述的风险：</p> <ul><li><strong>信息加密</strong>：交互信息无法被窃取，但你的号会因为「自身忘记」账号而没。</li> <li><strong>校验机制</strong>：无法篡改通信内容，篡改了就不能正常显示，但百度「竞价排名」依然可以搜索垃圾广告。</li> <li><strong>身份证书</strong>：证明淘宝是真的淘宝网，但你的钱还是会因为「剁手」而没。</li></ul> <p>可见，只要自身不做「恶」，SSL/TLS 协议是能保证通信是安全的。</p> <blockquote><p>HTTPS 是如何解决上面的三个风险的？</p></blockquote> <ul><li><strong>混合加密</strong>的方式实现信息的<strong>机密性</strong>，解决了窃听的风险。</li> <li><strong>摘要算法</strong>的方式来实现<strong>完整性</strong>，它能够为数据生成独一无二的「指纹」，指纹用于校验数据的完整性，解决了篡改的风险。</li> <li>将服务器公钥放入到<strong>数字证书</strong>中，解决了冒充的风险。</li></ul> <p><em>1. 混合加密</em></p> <p>通过<strong>混合加密</strong>的方式可以保证信息的<strong>机密性</strong>，解决了窃听的风险。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/20-混合加密.png" alt="混合加密" class="medium-zoom-image"></p> <p>HTTPS 采用的是<strong>对称加密</strong>和<strong>非对称加密</strong>结合的「混合加密」方式：</p> <ul><li>在通信建立前采用<strong>非对称加密</strong>的方式交换「会话秘钥」，后续就不再使用非对称加密。</li> <li>在通信过程中全部使用<strong>对称加密</strong>的「会话秘钥」的方式加密明文数据。</li></ul> <p>采用「混合加密」的方式的原因：</p> <ul><li><strong>对称加密</strong>只使用一个密钥，运算速度快，密钥必须保密，无法做到安全的密钥交换。</li> <li><strong>非对称加密</strong>使用两个密钥：公钥和私钥，公钥可以任意分发而私钥保密，解决了密钥交换问题但速度慢。</li></ul> <p><em>2. 摘要算法 + 数字签名</em></p> <p>为了保证传输的内容不被篡改，我们需要对内容计算出一个「指纹」，然后同内容一起传输给对方。</p> <p>对方收到后，先是对内容也计算出一个「指纹」，然后跟发送方发送的「指纹」做一个比较，如果「指纹」相同，说明内容没有被篡改，否则就可以判断出内容被篡改了。</p> <p>那么，在计算机里会<strong>用摘要算法（哈希函数）来计算出内容的哈希值</strong>，也就是内容的「指纹」，这个<strong>哈希值是唯一的，且无法通过哈希值推导出内容</strong>。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/摘要算法.png" alt="" class="medium-zoom-image"></p> <p>通过哈希算法可以确保内容不会被篡改，<strong>但是并不能保证「内容 + 哈希值」不会被中间人替换，因为这里缺少对客户端收到的消息是否来源于服务端的证明</strong>。</p> <p>举个例子，你想向老师请假，一般来说是要求由家长写一份请假理由并签名，老师才能允许你请假。</p> <p>但是你有模仿你爸爸字迹的能力，你用你爸爸的字迹写了一份请假理由然后签上你爸爸的名字，老师一看到这个请假条，查看字迹和签名，就误以为是你爸爸写的，就会允许你请假。</p> <p>那作为老师，要如何避免这种情况发生呢？现实生活中的，可以通过电话或视频来确认是否是由父母发出的请假，但是计算机里可没有这种操作。</p> <p>那为了避免这种情况，计算机里会用<strong>非对称加密算法</strong>来解决，共有两个密钥：</p> <ul><li>一个是公钥，这个是可以公开给所有人的；</li> <li>一个是私钥，这个必须由本人管理，不可泄露。</li></ul> <p>这两个密钥可以<strong>双向加解密</strong>的，比如可以用公钥加密内容，然后用私钥解密，也可以用私钥加密内容，公钥解密内容。</p> <p>流程的不同，意味着目的也不相同：</p> <ul><li><strong>公钥加密，私钥解密</strong>。这个目的是为了<strong>保证内容传输的安全</strong>，因为被公钥加密的内容，其他人是无法解密的，只有持有私钥的人，才能解密出实际的内容；</li> <li><strong>私钥加密，公钥解密</strong>。这个目的是为了<strong>保证消息不会被冒充</strong>，因为私钥是不可泄露的，如果公钥能正常解密出私钥加密的内容，就能证明这个消息是来源于持有私钥身份的人发送的。</li></ul> <p>一般我们不会用非对称加密来加密实际的传输内容，因为非对称加密的计算比较耗费性能的。</p> <p>所以非对称加密的用途主要在于<strong>通过「私钥加密，公钥解密」的方式，来确认消息的身份</strong>，我们常说的<strong>数字签名算法</strong>，就是用的是这种方式，不过私钥加密内容不是内容本身，而是<strong>对内容的哈希值加密</strong>。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/数字签名.png" alt="" class="medium-zoom-image"></p> <p>私钥是由服务端保管，然后服务端会向客户端颁发对应的公钥。如果客户端收到的信息，能被公钥解密，就说明该消息是由服务器发送的。</p> <p>引入了数字签名算法后，你就无法模仿你爸爸的字迹来请假了，你爸爸手上持有着私钥，你老师持有着公钥。</p> <p>这样只有用你爸爸手上的私钥才对请假条进行「签名」，老师通过公钥看能不能解出这个「签名」，如果能解出并且确认内容的完整性，就能证明是由你爸爸发起的请假条，这样老师才允许你请假，否则老师就不认。</p> <p><em>3. 数字证书</em></p> <p>前面我们知道：</p> <ul><li>可以通过哈希算法来保证消息的完整性；</li> <li>可以通过数字签名来保证消息的来源可靠性（能确认消息是由持有私钥的一方发送的）；</li></ul> <p>但是这还远远不够，<strong>还缺少身份验证的环节</strong>，万一公钥是被伪造的呢？</p> <p>还是拿请假的例子，虽然你爸爸持有私钥，老师通过是否能用公钥解密来确认这个请假条是不是来源你父亲的。</p> <p>但是我们还可以自己伪造出一对公私钥啊！</p> <p>你找了个夜晚，偷偷把老师桌面上和你爸爸配对的公钥，换成了你的公钥，那么下次你在请假的时候，你继续模仿你爸爸的字迹写了个请假条，然后用你的私钥做个了「数字签名」。</p> <p>但是老师并不知道自己的公钥被你替换过了，所以他还是按照往常一样用公钥解密，由于这个公钥和你的私钥是配对的，老师当然能用这个被替换的公钥解密出来，并且确认了内容的完整性，于是老师就会以为是你父亲写的请假条，又允许你请假了。</p> <p>好家伙，为了一个请假，真的是斗智斗勇。</p> <p>后面你的老师和父亲发现了你伪造公私钥的事情后，决定重新商量一个对策来应对你这个臭家伙。</p> <p>正所谓魔高一丈，道高一尺。</p> <p>既然伪造公私钥那么随意，所以你爸把他的公钥注册到<strong>警察局</strong>，警察局用他们自己的私钥对你父亲的公钥做了个数字签名，然后把你爸爸的「个人信息 + 公钥 + 数字签名」打包成一个<strong>数字证书，也就是说这个数字证书包含你爸爸的公钥。</strong></p> <p>这样，你爸爸如果因为家里确实有事要向老师帮你请假的时候，不仅会用自己的私钥对内容进行签名，还会把数字证书给到老师。</p> <p>老师拿到了数字证书后，<strong>首先会去警察局验证这个数字证书是否合法</strong>，因为数字证书里有警察局的数字签名，警察局要验证证书合法性的时候，用自己的公钥解密，如果能解密成功，就说明这个数字证书是在警察局注册过的，就认为该数字证书是合法的，然后就会把数字证书里头的公钥（你爸爸的）给到老师。</p> <p><strong>由于通过警察局验证了数字证书是合法的，那么就能证明这个公钥就是你父亲的</strong>，于是老师就可以安心的用这个公钥解密出清教条，如果能解密出，就证明是你爸爸写的请假条。</p> <p>正是通过了一个权威的机构来证明你爸爸的身份，所以你的伪造公私钥这个小伎俩就没用了。</p> <p>在计算机里，这个权威的机构就是 CA （数字证书认证机构），将服务器公钥放在数字证书（由数字证书认证机构颁发）中，只要证书是可信的，公钥就是可信的。</p> <p>数字证书的工作流程，我也画了一张图，方便大家理解：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/22-数字证书工作流程.png" alt="数子证书工作流程" class="medium-zoom-image"></p> <p>通过数字证书的方式保证服务器公钥的身份，解决冒充的风险。</p> <h3 id="https-是如何建立连接的-其间交互了什么"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E6%98%AF%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84-%E5%85%B6%E9%97%B4%E4%BA%A4%E4%BA%92%E4%BA%86%E4%BB%80%E4%B9%88" class="header-anchor">#</a> HTTPS  是如何建立连接的？其间交互了什么？</h3> <p>SSL/TLS 协议基本流程：</p> <ul><li>客户端向服务器索要并验证服务器的公钥。</li> <li>双方协商生产「会话秘钥」。</li> <li>双方采用「会话秘钥」进行加密通信。</li></ul> <p>前两步也就是 SSL/TLS 的建立过程，也就是 TLS 握手阶段。</p> <p>SSL/TLS 的「握手阶段」涉及<strong>四次</strong>通信， <a href="https://mp.weixin.qq.com/s?__biz=MzUxODAzNDg4NQ==&amp;mid=2247487650&amp;idx=1&amp;sn=dfee83f6773a589c775ccd6f40491289&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">基于 RSA 握手过程的 HTTPS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>见下图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/23-HTTPS工作流程.png" alt="HTTPS 连接建立过程" class="medium-zoom-image"></p> <p>SSL/TLS 协议建立的详细流程：</p> <p><em>1. ClientHello</em></p> <p>首先，由客户端向服务器发起加密通信请求，也就是 <code>ClientHello</code> 请求。</p> <p>在这一步，客户端主要向服务器发送以下信息：</p> <p>（1）客户端支持的 SSL/TLS 协议版本，如 TLS 1.2 版本。</p> <p>（2）客户端生产的随机数（<code>Client Random</code>），后面用于生成「会话秘钥」条件之一。</p> <p>（3）客户端支持的密码套件列表，如 RSA 加密算法。</p> <p><em>2. SeverHello</em></p> <p>服务器收到客户端请求后，向客户端发出响应，也就是 <code>SeverHello</code>。服务器回应的内容有如下内容：</p> <p>（1）确认 SSL/ TLS 协议版本，如果浏览器不支持，则关闭加密通信。</p> <p>（2）服务器生产的随机数（<code>Server Random</code>），也是后面用于生产「会话秘钥」条件之一。</p> <p>（3）确认的密码套件列表，如 RSA 加密算法。</p> <p>（4）服务器的数字证书。</p> <p><em>3.客户端回应</em></p> <p>客户端收到服务器的回应之后，首先通过浏览器或者操作系统中的 CA 公钥，确认服务器的数字证书的真实性。</p> <p>如果证书没有问题，客户端会<strong>从数字证书中取出服务器的公钥</strong>，然后使用它加密报文，向服务器发送如下信息：</p> <p>（1）一个随机数（<code>pre-master key</code>）。该随机数会被服务器公钥加密。</p> <p>（2）加密通信算法改变通知，表示随后的信息都将用「会话秘钥」加密通信。</p> <p>（3）客户端握手结束通知，表示客户端的握手阶段已经结束。这一项同时把之前所有内容的发生的数据做个摘要，用来供服务端校验。</p> <p>上面第一项的随机数是整个握手阶段的第三个随机数，会发给服务端，所以这个随机数客户端和服务端都是一样的。</p> <p><strong>服务器和客户端有了这三个随机数（Client Random、Server Random、pre-master key），接着就用双方协商的加密算法，各自生成本次通信的「会话秘钥」</strong>。</p> <p><em>4. 服务器的最后回应</em></p> <p>服务器收到客户端的第三个随机数（<code>pre-master key</code>）之后，通过协商的加密算法，计算出本次通信的「会话秘钥」。</p> <p>然后，向客户端发送最后的信息：</p> <p>（1）加密通信算法改变通知，表示随后的信息都将用「会话秘钥」加密通信。</p> <p>（2）服务器握手结束通知，表示服务器的握手阶段已经结束。这一项同时把之前所有内容的发生的数据做个摘要，用来供客户端校验。</p> <p>至此，整个 SSL/TLS 的握手阶段全部结束。接下来，客户端与服务器进入加密通信，就完全是使用普通的 HTTP 协议，只不过用「会话秘钥」加密内容。</p> <blockquote><p>客户端校验数字证书的流程是怎样的？</p></blockquote> <p>接下来，详细说一下实际中数字证书签发和验证流程。</p> <p>如下图图所示，为数字证书签发和验证流程：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/证书的校验.png" alt="" class="medium-zoom-image"></p> <p>CA 签发证书的过程，如上图左边部分：</p> <ul><li>首先 CA 会把持有者的公钥、用途、颁发者、有效时间等信息打成一个包，然后对这些信息进行 Hash 计算，得到一个 Hash 值；</li> <li>然后 CA 会使用自己的私钥将该 Hash 值加密，生成 Certificate Signature，也就是 CA 对证书做了签名；</li> <li>最后将 Certificate Signature 添加在文件证书上，形成数字证书；</li></ul> <p>客户端校验服务端的数字证书的过程，如上图右边部分：</p> <ul><li>首先客户端会使用同样的 Hash 算法获取该证书的 Hash 值 H1；</li> <li>通常浏览器和操作系统中集成了 CA 的公钥信息，浏览器收到证书后可以使用 CA 的公钥解密 Certificate Signature 内容，得到一个 Hash 值 H2 ；</li> <li>最后比较 H1 和 H2，如果值相同，则为可信赖的证书，否则则认为证书不可信。</li></ul> <p>但事实上，证书的验证过程中<strong>还存在一个证书信任链的问题</strong>，因为我们向 CA 申请的证书一般不是根证书签发的，而是由中间证书签发的，比如百度的证书，从下图你可以看到，证书的层级有三级：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/baidu证书.png" alt="" class="medium-zoom-image"></p> <p>对于这种三级层级关系的证书的验证过程如下：</p> <ul><li>客户端收到 baidu.com 的证书后，发现这个证书的签发者不是根证书，就无法根据本地已有的根证书中的公钥去验证 baidu.com 证书是否可信。于是，客户端根据 baidu.com 证书中的签发者，找到该证书的颁发机构是 “GlobalSign Organization Validation CA - SHA256 - G2”，然后向 CA 请求该中间证书。</li> <li>请求到证书后发现 “GlobalSign Organization Validation CA - SHA256 - G2” 证书是由 “GlobalSign Root CA” 签发的，由于 “GlobalSign Root CA” 没有再上级签发机构，说明它是根证书，也就是自签证书。应用软件会检查此证书有否已预载于根证书清单上，如果有，则可以利用根证书中的公钥去验证 “GlobalSign Organization Validation CA - SHA256 - G2” 证书，如果发现验证通过，就认为该中间证书是可信的。</li> <li>“GlobalSign Organization Validation CA - SHA256 - G2” 证书被信任后，可以使用 “GlobalSign Organization Validation CA - SHA256 - G2” 证书中的公钥去验证 baidu.com 证书的可信性，如果验证通过，就可以信任 baidu.com 证书。</li></ul> <p>在这四个步骤中，最开始客户端只信任根证书 GlobalSign Root CA 证书的，然后 “GlobalSign Root CA” 证书信任 “GlobalSign Organization Validation CA - SHA256 - G2” 证书，而 “GlobalSign Organization Validation CA - SHA256 - G2” 证书又信任 baidu.com 证书，于是客户端也信任 baidu.com 证书。</p> <p>总括来说，由于用户信任 GlobalSign，所以由 GlobalSign 所担保的 baidu.com 可以被信任，另外由于用户信任操作系统或浏览器的软件商，所以由软件商预载了根证书的 GlobalSign 都可被信任。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/用户信任.png" alt="" class="medium-zoom-image"></p> <p>操作系统里一般都会内置一些根证书，比如我的 MAC 电脑里内置的根证书有这么多：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/系统根证书.png" alt="" class="medium-zoom-image"></p> <p>这样的一层层地验证就构成了一条信任链路，整个证书信任链验证流程如下图所示：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/证书链.png" alt="" class="medium-zoom-image"></p> <p>最后一个问题，为什么需要证书链这么麻烦的流程？Root CA 为什么不直接颁发证书，而是要搞那么多中间层级呢？</p> <p><strong>这是为了确保根证书的绝对安全性，将根证书隔离地越严格越好，不然根证书如果失守了，那么整个信任链都会有问题。</strong></p> <h3 id="https-的应用数据是如何保证完整性的"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E7%9A%84%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84" class="header-anchor">#</a> HTTPS 的应用数据是如何保证完整性的？</h3> <p>TLS 在实现上分为<strong>握手协议</strong>和<strong>记录协议</strong>两层：</p> <ul><li>TLS 握手协议就是我们前面说的 TLS 四次握手的过程，负责协商加密算法和生成对称密钥，后续用此密钥来保护应用程序数据（即 HTTP 数据）；</li> <li>TLS 记录协议负责保护应用程序数据并验证其完整性和来源，所以对 HTTP 数据加密是使用记录协议；</li></ul> <p>TLS 记录协议主要负责消息（HTTP 数据）的压缩，加密及数据的认证，过程如下图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/记录协议.png" alt="" class="medium-zoom-image"></p> <p>具体过程如下：</p> <ul><li><p>首先，消息被分割成多个较短的片段,然后分别对每个片段进行压缩。</p></li> <li><p>接下来，经过压缩的片段会被<strong>加上消息认证码（MAC 值，这个是通过哈希算法生成的），这是为了保证完整性，并进行数据的认证</strong>。通过附加消息认证码的 MAC 值，可以识别出篡改。与此同时，为了防止重放攻击，在计算消息认证码时，还加上了片段的编码。</p></li> <li><p>再接下来，经过压缩的片段再加上消息认证码会一起通过对称密码进行加密。</p></li> <li><p>最后，上述经过加密的数据再加上由数据类型、版本号、压缩后的长度组成的报头就是最终的报文数据。</p></li></ul> <p>记录协议完成后，最终的报文数据将传递到传输控制协议 (TCP) 层进行传输。</p> <p>如果你想详细了解记录协议是如何分片、压缩、计算 MAC 值、分组加密，可以看这篇：<a href="https://blog.csdn.net/zhanyiwp/article/details/105627799" target="_blank" rel="noopener noreferrer">理解SSL/TLS系列 (四) 记录协议<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="http-1-1、http-2、http-3-演变"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1%E3%80%81http-2%E3%80%81http-3-%E6%BC%94%E5%8F%98" class="header-anchor">#</a> HTTP/1.1、HTTP/2、HTTP/3 演变</h2> <h3 id="http-1-1-相比-http-1-0-提高了什么性能"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-1-1-%E7%9B%B8%E6%AF%94-http-1-0-%E6%8F%90%E9%AB%98%E4%BA%86%E4%BB%80%E4%B9%88%E6%80%A7%E8%83%BD" class="header-anchor">#</a> HTTP/1.1 相比 HTTP/1.0 提高了什么性能？</h3> <p>HTTP/1.1 相比 HTTP/1.0 性能上的改进：</p> <ul><li>使用长连接的方式改善了 HTTP/1.0 短连接造成的性能开销。</li> <li>支持管道（pipeline）网络传输，只要第一个请求发出去了，不必等其回来，就可以发第二个请求出去，可以减少整体的响应时间。</li></ul> <p>但 HTTP/1.1 还是有性能瓶颈：</p> <ul><li>请求 / 响应头部（Header）未经压缩就发送，首部信息越多延迟越大。只能压缩 <code>Body</code> 的部分；</li> <li>发送冗长的首部。每次互相发送相同的首部造成的浪费较多；</li> <li>服务器是按请求的顺序响应的，如果服务器响应慢，会招致客户端一直请求不到数据，也就是队头阻塞；</li> <li>没有请求优先级控制；</li> <li>请求只能从客户端开始，服务器只能被动响应。</li></ul> <h3 id="http-2-做了什么优化"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-2-%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96" class="header-anchor">#</a> HTTP/2 做了什么优化？</h3> <p>HTTP/2 协议是基于 HTTPS 的，所以 HTTP/2 的安全性也是有保障的。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/25-HTTP2.png" alt="HTT/1 ~ HTTP/2" class="medium-zoom-image"></p> <p>那 HTTP/2 相比 HTTP/1.1 性能上的改进：</p> <p><em>1. 头部压缩</em></p> <p>HTTP/2 会<strong>压缩头</strong>（Header）如果你同时发出多个请求，他们的头是一样的或是相似的，那么，协议会帮你<strong>消除重复的部分</strong>。</p> <p>这就是所谓的 <code>HPACK</code> 算法：在客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就<strong>提高速度</strong>了。</p> <p><em>2. 二进制格式</em></p> <p>HTTP/2 不再像 HTTP/1.1 里的纯文本形式的报文，而是全面采用了<strong>二进制格式</strong>，头信息和数据体都是二进制，并且统称为帧（frame）：<strong>头信息帧（Headers Frame）和数据帧（Data Frame）</strong>。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/二进制帧.png" alt="HTTP/1 与 HTTP/2 " class="medium-zoom-image"></p> <p>这样虽然对人不友好，但是对计算机非常友好，因为计算机只懂二进制，那么收到报文后，无需再将明文的报文转成二进制，而是直接解析二进制报文，这<strong>增加了数据传输的效率</strong>。</p> <p>比如状态码 200 ，在 HTTP/1.1 是用 '2''0''0' 三个字符来表示（二进制：110010 110000 110000），如图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/http1.png" alt="" class="medium-zoom-image"></p> <p>在 HTTP/2 是用数字 200 表示（二进制：10001000），如图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/h2c.png" alt="" class="medium-zoom-image"></p> <p><em>3. 数据流</em></p> <p>HTTP/2 的数据包不是按顺序发送的，同一个连接里面连续的数据包，可能属于不同的回应。因此，必须要对数据包做标记，指出它属于哪个回应。</p> <p>在 HTTP/2 中每个请求或响应的所有数据包，称为一个数据流（<code>Stream</code>）。每个数据流都标记着一个独一无二的编号（Stream ID），<strong>不同 Stream 的帧是可以乱序发送的（因此可以并发不同的 Stream ）</strong>，因为每个帧的头部会携带 Stream ID 信息，所以接收端可以通过 Stream ID 有序组装成 HTTP 消息</p> <p>客户端和服务器<strong>双方都可以建立 Stream</strong>， Stream ID 也是有区别的，客户端建立的 Stream 必须是奇数号，而服务器建立的 Stream 必须是偶数号。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/83445581dafe409d8cfd2c573b2781ac.png" alt="" class="medium-zoom-image"></p> <p>客户端还可以<strong>指定数据流的优先级</strong>。优先级高的请求，服务器就先响应该请求。</p> <p><em>4. 多路复用</em></p> <p>HTTP/2 是可以在<strong>一个连接中并发多个请求或回应，而不用按照顺序一一对应</strong>。</p> <p>移除了 HTTP/1.1 中的串行请求，不需要排队等待，也就不会再出现「队头阻塞」问题，<strong>降低了延迟，大幅度提高了连接的利用率</strong>。</p> <p>举例来说，在一个 TCP 连接里，服务器收到了客户端 A 和 B 的两个请求，如果发现 A 处理过程非常耗时，于是就回应 A 请求已经处理好的部分，接着回应 B 请求，完成后，再回应 A 请求剩下的部分。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/26-多路复用.png" alt="多路复用" class="medium-zoom-image"></p> <p><em>5. 服务器推送</em></p> <p>HTTP/2 还在一定程度上改善了传统的「请求 - 应答」工作模式，服务端不再是被动地响应，可以<strong>主动</strong>向客户端发送消息。</p> <p>比如，客户端通过 HTTP/1.1 请求从服务器那获取到了 HTML 文件，而 HTML 可能还需要依赖 CSS 来渲染页面，这时客户端还要再发起获取 CSS 文件的请求，需要两次消息往返，如下图左边部分：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/push.png" alt="img" class="medium-zoom-image"></p> <p>如上图右边部分，在 HTTP/2 中，客户端在访问 HTML 时，服务器可以直接主动推送 CSS 文件，减少了消息传递的次数。</p> <blockquote><p>HTTP/2 有什么缺陷？</p></blockquote> <p>HTTP/2 通过 Stream 的并发能力，解决了 HTTP/1 队头阻塞的问题，看似很完美了，但是 HTTP/2 还是存在“队头阻塞”的问题，只不过问题不是在 HTTP 这一层面，而是在 TCP 这一层。</p> <p><strong>HTTP/2 是基于 TCP 协议来传输数据的，TCP 是字节流协议，TCP 层必须保证收到的字节数据是完整且连续的，这样内核才会将缓冲区里的数据返回给 HTTP 应用，那么当「前 1 个字节数据」没有到达时，后收到的字节数据只能存放在内核缓冲区里，只有等到这 1 个字节数据到达时，HTTP/2 应用层才能从内核中拿到数据，这就是 HTTP/2 队头阻塞问题。</strong></p> <p>举个例子，如下图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/tcp队头阻塞.gif" alt="img" class="medium-zoom-image"></p> <p>图中发送方发送了很多个 packet，每个 packet 都有自己的序号，你可以认为是 TCP 的序列号，其中 packet 3 在网络中丢失了，即使 packet 4-6 被接收方收到后，由于内核中的 TCP 数据不是连续的，于是接收方的应用层就无法从内核中读取到，只有等到 packet 3 重传后，接收方的应用层才可以从内核中读取到数据，这就是 HTTP/2 的队头阻塞问题，是在 TCP 层面发生的。</p> <p>所以，一旦发生了丢包现象，就会触发 TCP 的重传机制，这样在一个 TCP 连接中的<strong>所有的 HTTP 请求都必须等待这个丢了的包被重传回来</strong>。</p> <h3 id="http-3-做了哪些优化"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#http-3-%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96" class="header-anchor">#</a> HTTP/3 做了哪些优化？</h3> <p>前面我们知道了 HTTP/1.1 和 HTTP/2 都有队头阻塞的问题：</p> <ul><li>HTTP/1.1 中的管道（ pipeline）虽然解决了请求的队头阻塞，但是<strong>没有解决响应的队头阻塞</strong>，因为服务端需要按顺序响应收到的请求，如果服务端处理某个请求消耗的时间比较长，那么只能等相应完这个请求后， 才能处理下一个请求，这属于 HTTP 层队头阻塞。</li> <li>HTTP/2 虽然通过多个请求复用一个 TCP 连接解决了 HTTP 的队头阻塞 ，但是<strong>一旦发生丢包，就会阻塞住所有的 HTTP 请求</strong>，这属于 TCP 层队头阻塞。</li></ul> <p>HTTP/2 队头阻塞的问题是因为 TCP，所以 <strong>HTTP/3 把 HTTP 下层的 TCP 协议改成了 UDP！</strong></p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/27-HTTP3.png" alt="HTTP/1 ~ HTTP/3" class="medium-zoom-image"></p> <p>UDP 发送是不管顺序，也不管丢包的，所以不会出现像 HTTP/2 队头阻塞的问题。大家都知道 UDP 是不可靠传输的，但基于 UDP 的 <strong>QUIC 协议</strong> 可以实现类似 TCP 的可靠性传输。</p> <p>QUIC 有以下 3 个特点。</p> <p><em>1、无队头阻塞</em></p> <p>QUIC 协议也有类似 HTTP/2 Stream 与多路复用的概念，也是可以在同一条连接上并发传输多个 Stream，Stream 可以认为就是一条 HTTP 请求。</p> <p>QUIC 有自己的一套机制可以保证传输的可靠性的。<strong>当某个流发生丢包时，只会阻塞这个流，其他流不会受到影响，因此不存在队头阻塞问题</strong>。这与 HTTP/2 不同，HTTP/2 只要某个流中的数据包丢失了，其他流也会因此受影响。</p> <p>所以，QUIC 连接上的多个 Stream 之间并没有依赖，都是独立的，某个流发生丢包了，只会影响该流，其他流不受影响。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/quic多路复用.png" alt="" class="medium-zoom-image"></p> <p><em>2、更快的连接建立</em></p> <p>对于 HTTP/1 和 HTTP/2 协议，TCP 和 TLS 是分层的，分别属于内核实现的传输层、openssl 库实现的表示层，因此它们难以合并在一起，需要分批次来握手，先 TCP 握手，再 TLS 握手。</p> <p>HTTP/3 在传输数据前虽然需要 QUIC 协议握手，这个握手过程只需要 1 RTT，握手的目的是为确认双方的「连接 ID」，连接迁移就是基于连接 ID 实现的。</p> <p>但是 HTTP/3 的 QUIC 协议并不是与 TLS 分层，而是QUIC 内部包含了 TLS，它在自己的帧会携带 TLS 里的“记录”，再加上 QUIC 使用的是 TLS/1.3，因此仅需 1 个 RTT 就可以「同时」完成建立连接与密钥协商，如下图：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/28-HTTP3交互次数.png" alt="TCP HTTPS（TLS/1.3） 和 QUIC HTTPS " class="medium-zoom-image"></p> <p>甚至，在第二次连接的时候，应用数据包可以和 QUIC 握手信息（连接信息 + TLS 信息）一起发送，达到 0-RTT 的效果。</p> <p><em>3、连接迁移</em></p> <p>基于 TCP 传输协议的 HTTP 协议，由于是通过四元组（源 IP、源端口、目的 IP、目的端口）确定一条 TCP 连接，那么<strong>当移动设备的网络从 4G 切换到 WIFI 时，意味着 IP 地址变化了，那么就必须要断开连接，然后重新建立连接</strong>。而建立连接的过程包含 TCP 三次握手和 TLS 四次握手的时延，以及 TCP 慢启动的减速过程，给用户的感觉就是网络突然卡顿了一下，因此连接的迁移成本是很高的。</p> <p>而 QUIC 协议没有用四元组的方式来“绑定”连接，而是通过<strong>连接 ID</strong>来标记通信的两个端点，客户端和服务器可以各自选择一组 ID 来标记自己，因此即使移动设备的网络变化后，导致 IP 地址变化了，只要仍保有上下文信息（比如连接 ID、TLS 密钥等），就可以“无缝”地复用原连接，消除重连的成本，没有丝毫卡顿感，达到了<strong>连接迁移</strong>的功能。</p> <p>所以， QUIC 是一个在 UDP 之上的<strong>伪</strong> TCP + TLS + HTTP/2 的多路复用的协议。</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/http3quic.jpg" alt="img" class="medium-zoom-image"></p> <p>QUIC 是新协议，对于很多网络设备，根本不知道什么是 QUIC，只会当做 UDP，这样会出现新的问题，因为有的网络设备是会丢掉 UDP 包的，而 QUIC 是基于UDP 实现的，那么如果网络设备无法识别这个是 QUIC 包，那么就会当作 UDP包，然后被丢弃。</p> <p>所以，HTTP/3 现在普及的进度非常的缓慢，不知道未来 UDP 是否能够逆袭 TCP。</p> <hr> <p>参考资料：</p> <p>[1] 上野 宣.图解HTTP.人民邮电出版社.</p> <p>[2] 罗剑锋.透视HTTP协议.极客时间.</p> <p>[3] 陈皓.HTTP的前世今.酷壳CoolShell.https://coolshell.cn/articles/19840.html</p> <p>[4] 阮一峰.HTTP 协议入门.阮一峰的网络日志.http://www.ruanyifeng.com/blog/2016/08/http.html</p> <hr> <h2 id="读者问答"><a href="https://xiaolincoding.com/network/2_http/http_interview.html#%E8%AF%BB%E8%80%85%E9%97%AE%E7%AD%94" class="header-anchor">#</a> 读者问答</h2> <blockquote><p>读者问：“https和http相比，就是传输的内容多了对称加密，可以这么理解吗？”</p></blockquote> <ol><li><p>建立连接时候：https 比 http多了 TLS 的握手过程；</p></li> <li><p>传输内容的时候：https 会把数据进行加密，通常是对称加密数据；</p></li></ol> <blockquote><p>读者问：“ 我看文中 TLS 和 SSL 没有做区分，这两个需要区分吗？”</p></blockquote> <p>这两实际上是一个东西。</p> <p>SSL 是洋文 “<em>Secure Sockets Layer</em> 的缩写，中文叫做「安全套接层」。它是在上世纪 90 年代中期，由网景公司设计的。</p> <p>到了1999年，SSL 因为应用广泛，已经成为互联网上的事实标准。IETF 就在那年把 SSL 标准化。标准化之后的名称改为 TLS（是 “<em>Transport Layer Security</em>” 的缩写），中文叫做 「传输层安全协议」。</p> <p>很多相关的文章都把这两者并列称呼（SSL/TLS），因为这两者可以视作同一个东西的不同阶段。</p> <blockquote><p>读者问：“为啥 ssl 的握手是 4 次？”</p></blockquote> <p>SSL/TLS 1.2 需要 4 握手，需要 2 个 RTT 的时延，我文中的图是把每个交互分开画了，实际上把他们合在一起发送，就是 4 次握手：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/29-TLS1.2-四次握手.png" alt="" class="medium-zoom-image"></p> <p>另外， SSL/TLS 1.3 优化了过程，只需要 1 个 RTT 往返时延，也就是只需要 3 次握手：</p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/30-TLS1.3.png" alt="T" class="medium-zoom-image"></p> <hr> <p>本文的 <code>30</code> 张图片，都是从一条线两条线画出来，灰常的费劲，深切感受到画图也是个<strong>体力活</strong>啊！</p> <p>爱偷懒的我其实不爱画图，但为了让大家能更好的理解，在跟自己无数次斗争后，踏上了耗时耗体力的画图的不归路，希望对你们有帮助！</p> <p><strong>小林是专为大家图解的工具人，Goodbye，我们下次见！</strong></p> <p><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/公众号介绍.png" alt="" class="medium-zoom-image"></p></div> <footer class="page-edit" style="max-width: 740px; margin: 0px auto; padding: 2rem 2.5rem;"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">7/25/2022, 2:54:00 PM</span></div></footer> <div class="page-nav" style="max-width: 740px; margin: 0px auto; padding: 2rem 2.5rem;"><p class="inner"><span class="prev">
        ←
        <a href="https://xiaolincoding.com/network/1_base/how_os_deal_network_package.html" class="prev">
          2.3 Linux 系统是如何收发网络包的？
        </a></span> <span class="next"><a href="https://xiaolincoding.com/network/2_http/http_optimize.html" class="">
          3.2 HTTP/1.1如何优化？
        </a>
        →
      </span></p></div>  <div class="vssue theme-default-content content__default" style="max-width: 740px; margin: 0px auto; padding: 2rem 2.5rem;"><svg style="display: none;"><symbol id="vssue-icon-bitbucket" viewBox="0 0 1024 1024"><path d="M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"></path></symbol> <symbol id="vssue-icon-gitea" viewBox="0 0 1024 1024"><path d="M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z"></path></symbol> <symbol id="vssue-icon-gitee" viewBox="0 0 1024 1024"><path d="M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"></path></symbol> <symbol id="vssue-icon-github" viewBox="0 0 1024 1024"><path d="M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"></path></symbol> <symbol id="vssue-icon-gitlab" viewBox="0 0 1024 1024"><path d="M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"></path></symbol> <symbol id="vssue-icon-loading" viewBox="0 0 1024 1024"><path d="M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"></path></symbol> <symbol id="vssue-icon-like" viewBox="0 0 1024 1024"><path d="M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"></path></symbol> <symbol id="vssue-icon-unlike" viewBox="0 0 1024 1024"><path d="M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"></path></symbol> <symbol id="vssue-icon-heart" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"></path></symbol> <symbol id="vssue-icon-edit" viewBox="0 0 1024 1024"><path d="M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"></path> <path d="M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"></path></symbol> <symbol id="vssue-icon-delete" viewBox="0 0 1024 1024"><path d="M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"></path></symbol> <symbol id="vssue-icon-reply" viewBox="0 0 1024 1024"><path d="M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"></path></symbol> <symbol id="vssue-icon-error" viewBox="0 0 1024 1024"><path d="M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"></path> <path d="M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"></path> <path d="M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"></path></symbol></svg> <div class="vssue-header"><a target="_blank" rel="noopener noreferrer" class="vssue-header-comments-count"><span>
      评论
    </span></a> <span class="vssue-header-powered-by"><span>Powered by</span> <span><a href="https://github.com/" title="GitHub API v4" target="_blank" rel="noopener noreferrer">
        GitHub
      </a> <span>&amp;</span></span> <a href="https://github.com/meteorlxy/vssue" title="Vssue v1.4.8" target="_blank" rel="noopener noreferrer">
      Vssue
    </a></span></div> <div class="vssue-body"><div class="vssue-new-comment"><div class="vssue-comment-avatar"><svg aria-hidden="true" class="vssue-icon vssue-icon-github"><title>使用 GitHub 帐号登录后发表评论</title><use xlink:href="#vssue-icon-github"></use></svg></div> <div class="vssue-new-comment-body"><textarea rows="5" disabled="disabled" placeholder="登录后才能发表评论丨支持 Markdown 语法" spellcheck="false" aria-label="leave a comment" class="vssue-new-comment-input"></textarea></div> <div class="vssue-new-comment-footer"><span class="vssue-current-user">
      使用 GitHub 帐号登录后发表评论
    </span> <div class="vssue-new-comment-operations"><button title="使用 GitHub 帐号登录后发表评论" class="vssue-button-login vssue-button vssue-button-primary">
        使用 GitHub 登录
      </button></div></div></div> <div class="vssue-notice"><div class="vssue-progress" style="width: 0%; transition: all 200ms linear 0s; display: none;"></div> <div class="vssue-alert" style="display: none;"></div></div> <div class="vssue-status"><!----> <p class="vssue-status-info"><a>
        登录后查看评论
      </a></p></div></div></div></main></div> <aside class="page-sidebar"> <div class="page-side-toolbar"><!----> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/toc.png" class="nozoom"> <span class="show-txt">目录</span></div> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/toggle.png" width="30px" class="nozoom"> <span class="show-txt">侧边栏</span></div> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/dark.svg" width="30px" class="nozoom"> <span class="show-txt">夜间</span></div> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/wexin4.png" width="25px" class="nozoom"> <span class="show-txt">技术群</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="text-align: center;"><span style="font-size: 0.7rem; font-weight: bold;">关注小林的公众号，回复<span style="color: red;">「加群」</span>，拉你进百人技术交流群</span> <img src="./3.1 HTTP 常见面试题 _ 小林coding_files/xiaolincoding.jpeg" height="180px" style="margin: 10px;">
	       公众号：小林coding
              </div></div></div></div> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/download.png" width="25px" class="nozoom"> <span class="show-txt">资料</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="text-align: center;"><span style="font-size: 0.7rem; font-weight: bold;">关注小林的公众号，回复<span style="color: red;">「图解」</span>，获取图解系列 PDF 电子版</span> <img src="./3.1 HTTP 常见面试题 _ 小林coding_files/xiaolincoding.jpeg" height="180px" style="margin: 10px;">
                公众号：小林coding
              </div></div></div></div> <div class="option-box"><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/red-heart.png" width="25px" class="nozoom"> <span class="show-txt">支持我</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="text-align: center;"><span style="font-size: 0.8rem; font-weight: bold;">微信赞赏码</span> <img height="210px" src="./3.1 HTTP 常见面试题 _ 小林coding_files/wechat_reword.webp" style="margin: 5px;"> <br>但凡网站的内容对你有点帮助或者启发，可以给小林一个小小的赞赏表示支持，这是对坚持图解的我是一种鼓励与动力，千言万语化成一句，感谢大家的陪伴与支持！
              </div></div></div></div> <div title="2.3 Linux 系统是如何收发网络包的？" class="option-box" style="padding-left: 2px; text-align: center;"><a href="https://xiaolincoding.com/network/1_base/how_os_deal_network_package.html" class=""><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/pre2.png" width="30px" class="nozoom"> <span class="show-txt">上一篇</span></a></div> <div title="3.2 HTTP/1.1如何优化？" class="option-box" style="padding-left: 2px; text-align: center;"><a href="https://xiaolincoding.com/network/2_http/http_optimize.html" class=""><img src="./3.1 HTTP 常见面试题 _ 小林coding_files/next2.png" width="30px" class="nozoom"> <span class="show-txt">下一篇</span></a></div></div>  <!----> </aside></div><div class="global-ui"><svg data-v-5fd4ef0c="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49.484 28.284" class="go-to-top"><g data-v-5fd4ef0c="" transform="translate(-229 -126.358)"><rect data-v-5fd4ef0c="" fill="currentColor" width="35" height="5" rx="2" transform="translate(229 151.107) rotate(-45)"></rect> <rect data-v-5fd4ef0c="" fill="currentColor" width="35" height="5" rx="2" transform="translate(274.949 154.642) rotate(-135)"></rect></g></svg><div></div><!----></div></div>
    <script src="./3.1 HTTP 常见面试题 _ 小林coding_files/app.7fcb6559.js" defer=""></script><script src="./3.1 HTTP 常见面试题 _ 小林coding_files/4.7ad2f6c0.js" defer=""></script><script src="./3.1 HTTP 常见面试题 _ 小林coding_files/3.dbf88ffe.js" defer=""></script><script src="./3.1 HTTP 常见面试题 _ 小林coding_files/10.32cee932.js" defer=""></script><script src="./3.1 HTTP 常见面试题 _ 小林coding_files/5.684f1b01.js" defer=""></script>
  

</body></html>