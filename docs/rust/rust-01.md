---
title: 基础描述
date: 2023-01-14 19:16:20
categories: Rust
order: 2
tags:
  - Rust
---

## 简介
---
1. 为什么要用rust
- rust 是一门新编程语言，它可以让每个人编写可靠且高效的软件。它可以用来替换 C/C++，rust 和它们具有同样的性能，但是很多常见的 bug 在编译时就可以被消灭。它更适用于以下场景：需要运行时的速度，需要内存安全，更好的利用多处理器

2. 与其他语言做比较
- *C/C++*: 性能非常好，但类型系统和内存都不太安全
- *Java/C#*: 拥有 GC，能保证内存安全。也有很多优秀特性，但是性能不行
- *Rust*: 类型系统和内存非常的安全，并且无需 GC，也就是说它性能好、速度快，易于维护、调试，代码安全高效

3. 擅长的领域
- *高性能 Web Service*：特别擅长，可以构建高性能的 web service 及 web 应用
- *WebAssembly*、*命令行工具*、*网络编程*、*嵌入式设备*、*系统编程* 等

4. 编译/运行
- 需要注意的是，运行 rust 程序之前必须先变编译，命令如下

```bash
rustc main.ts
```

- 经过以上命令编译后，会输出/生成一个二进制文件，windows 下还会生成一个 .pdb 结尾的文件，里面包含调试信息
```bash
# windows
.\main.exe

# linux/max
./main
```
- rust 属于预编译语言，可以先编译程序，然后将可执行文件交给别人执行

5. cargo
- 它是 rust 的构建系统和包管理工具，它可以用于构建代码、下载依赖的库、构建这些库等

```bash
# 创建一个rust新项目
cargo new rust_test
```
- *Cargo.toml*: 是 cargo 的配置文件

|配置字段|描述|
|---|---|
|[package]|是一个区域标题，表示下方内容用于配置包(package)|
|[dependencies]|是另一个区域的开始，它会列出项目的依赖项|

- 通过 *cargo build* 进行构建 cargo 项目，当我们需要将项目用于生产环境时，可以使用 *cargo build -release*，它会对代码进行优化，不过编译时间会更长；通过 *cargo run* 构建和运行 cargo 项目；*cargo check* 用于检查代码，确保能通过编译，但是不产生任何可执行文件，它要比以上两个命令快得多，可以在编写代码的时候反复使用检查代码，提高效率

6. 示例程序解读

```rust
fn main() {
  println!("hello world");
}
```
- 定义函数：fn main(){},此时是没有参数也没有返回值的。其中 main 函数比较特别，它是每个 rust 可执行程序中最先运行的代码
- println! 是一个 rust macro(宏)，如果是函数的话，就不携带 !，其中代码通过 ; 结尾